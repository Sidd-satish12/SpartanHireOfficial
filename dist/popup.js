import{r as o,j as e,c as j}from"./assets/global-BlkyeYZ5.js";const v=()=>{const[a,m]=o.useState(null),[h,p]=o.useState([]),[g,u]=o.useState(""),[l,x]=o.useState([]),[b,i]=o.useState(!1),f=async t=>{var d;const r=(d=t.target.files)==null?void 0:d[0];if(!r||r.type!=="application/pdf"){alert("Please upload a valid PDF file.");return}i(!0);const s=new FormData;s.append("resume",r);try{const n=await(await fetch("http://localhost:3000/upload-resume",{method:"POST",body:s})).json();console.log("Response data:",n),m(n.ats_score||0),p(n.jobs||[]),u(n.roadmap||"")}catch(c){console.error("Error uploading resume:",c),alert("Failed to process resume.")}finally{i(!1)}},w=t=>{x(r=>r.includes(t)?r.filter(s=>s!==t):[...r,t])},y=()=>{const t=window.open("","_blank","width=400,height=600");t&&t.document.write(`
        <html>
        <head>
          <title>MSU Career Roadmap</title>
          <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
        </head>
        <body class="bg-gradient-to-r from-green-900 via-green-700 to-green-500 text-white p-4">
          <div class="max-w-sm mx-auto bg-white text-gray-900 p-4 rounded-lg shadow-2xl">
            <h1 class="text-3xl font-extrabold text-center mb-4 text-green-700">üõ° MSU Career Roadmap üõ°</h1>
            <div class="text-gray-800 whitespace-pre-wrap">${g}</div>
            <button onclick="window.close()" class="mt-4 px-4 py-2 bg-green-600 text-white font-bold rounded shadow hover:bg-green-500">‚¨ÖÔ∏è Close Roadmap</button>
          </div>
        </body>
        </html>
      `)};return e.jsxs("div",{className:"p-4 text-center bg-gradient-to-r from-green-900 via-green-700 to-green-500 text-white rounded-xl shadow-lg animate-fade-in",children:[!a&&e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-4xl font-extrabold mb-4 animate-bounce",children:"üèπ Welcome, Spartan! üèπ"}),e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"üèõÔ∏è Conquer Your Job Hunt with MSU Spirit! üèõÔ∏è"}),e.jsx("input",{type:"file",accept:"application/pdf",onChange:f,className:"mb-4 p-3 border-4 border-white rounded-xl focus:outline-none focus:ring-4 focus:ring-green-300 bg-green-800 text-white cursor-pointer hover:bg-green-700 transition-transform transform hover:scale-105"})]}),b&&e.jsx("p",{className:"text-lg animate-pulse",children:"‚è≥ Analyzing your resume... ‚è≥"}),a!==null&&a!==0&&e.jsxs("div",{className:"bg-gradient-to-br from-green-800 via-green-600 to-green-500 p-4 rounded-xl shadow-xl",children:[e.jsxs("h2",{className:"text-3xl font-extrabold mb-2 animate-fade-in-up",children:["üèÜ Spartan Score: ",a,"% üèÜ"]}),e.jsx("h3",{className:"font-bold mt-4 mb-2 text-white",children:"üéØ Your Path to Victory! üéØ"}),e.jsx("ul",{className:"list-none space-y-3",children:h.map((t,r)=>e.jsxs("li",{className:"flex justify-between items-center p-3 bg-white bg-opacity-20 rounded-lg shadow-md hover:shadow-xl transition-transform transform hover:scale-105",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("strong",{children:t.title})," at ",t.company.display_name,e.jsx("br",{}),e.jsx("a",{href:t.redirect_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-300 underline hover:text-yellow-200",children:"üèπ Apply here üèπ"})]}),e.jsx("button",{onClick:()=>w(r),className:`ml-4 p-2 w-10 h-10 rounded-sm border-4 transition-transform transform hover:scale-110
                    ${l.includes(r)?"bg-yellow-300 text-black border-yellow-500 animate-bounce":"bg-green-300 text-black border-green-500 hover:bg-green-200"}
                  `,children:l.includes(r)?"‚≠ê":"‚ûï"})]},r))}),e.jsx("button",{onClick:y,className:"mt-6 px-4 py-2 bg-white text-green-800 font-extrabold rounded-full shadow-md hover:bg-gray-200 transition-transform transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-500",children:"üó∫ Show Me the Spartan Roadmap"})]})]})};j(document.getElementById("root")).render(e.jsx(o.StrictMode,{children:e.jsx("div",{className:"bg-green w-[600px] h-[500px]",children:e.jsx(v,{})})}));
